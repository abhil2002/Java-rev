<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Quiz Portal</title>
<meta name="viewport" content="width=device-width, initial-scale=1">

<!-- Bootstrap CSS -->
<link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet">

<!-- jQuery -->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>

<style>
body {
    background: linear-gradient(135deg, #eef2ff, #f8fafc);
    font-family: "Segoe UI", sans-serif;
}

.card {
    border-radius: 15px;
    box-shadow: 0 10px 30px rgba(0,0,0,0.1);
}

.hidden {
    display: none;
}

.option {
    cursor: pointer;
    transition: 0.3s;
}

.option:hover {
    background-color: #e0e7ff;
}

.timer {
    font-size: 18px;
    font-weight: bold;
    color: #dc2626;
}
</style>
</head>

<body>

<div class="container min-vh-100 d-flex justify-content-center align-items-center">

<!-- LOGIN -->
<div class="card p-4 w-100" style="max-width:400px;" id="loginPage">
    <h3 class="text-center mb-3">Quiz Portal</h3>
    <input class="form-control mb-2" id="loginUser" placeholder="Username">
    <input type="password" class="form-control mb-3" id="loginPass" placeholder="Password">
    <button class="btn btn-primary w-100" id="loginBtn">Login</button>
    <p class="text-center mt-2">
        No account? <a href="#" id="goSignup">Sign Up</a>
    </p>
</div>

<!-- SIGNUP -->
<div class="card p-4 w-100 hidden" style="max-width:400px;" id="signupPage">
    <h3 class="text-center mb-3">Create Account</h3>
    <input class="form-control mb-2" id="signupUser" placeholder="Username">
    <input type="password" class="form-control mb-3" id="signupPass" placeholder="Password">
    <button class="btn btn-success w-100" id="signupBtn">Sign Up</button>
    <p class="text-center mt-2">
        Already have an account? <a href="#" id="goLogin">Login</a>
    </p>
</div>

<!-- QUIZ -->
<div class="card p-4 w-100 hidden" style="max-width:700px;" id="quizPage">

    <div class="d-flex justify-content-between mb-3">
        <h4>JavaScript Quiz</h4>
        <div class="timer">‚è± <span id="time">60</span>s</div>
    </div>

    <div class="row text-center mb-3">
        <div class="col">Attempted: <b id="attempted">0</b></div>
        <div class="col">Answered: <b id="answered">0</b></div>
        <div class="col">Unanswered: <b id="unanswered">5</b></div>
    </div>

    <hr>

    <h5 id="question"></h5>

    <div id="options" class="list-group my-3"></div>

    <button class="btn btn-primary float-end" id="nextBtn">Next</button>
</div>

</div>

<script>
let questions = [
    { q: "What does JS stand for?", o: ["Java Source", "JavaScript", "JSON", "Just Script"], a: 1 },
    { q: "Which keyword declares variable?", o: ["int", "let", "var", "let & var"], a: 3 },
    { q: "Which company created JS?", o: ["Google", "Netscape", "Apple", "Microsoft"], a: 1 },
    { q: "Which symbol for comment?", o: ["//", "<!-- -->", "#", "**"], a: 0 },
    { q: "JSON to Object?", o: ["JSON.stringify()", "JSON.parse()", "parse()", "toObject()"], a: 1 }
];

let index = 0, attempted = 0, answered = 0, timer = 60;

// NAVIGATION
$("#goSignup").click(() => {
    $("#loginPage").hide();
    $("#signupPage").fadeIn();
});

$("#goLogin").click(() => {
    $("#signupPage").hide();
    $("#loginPage").fadeIn();
});

$("#signupBtn").click(() => {
    alert("Account Created!");
    $("#signupPage").hide();
    $("#loginPage").fadeIn();
});

$("#loginBtn").click(() => {
    $("#loginPage").hide();
    $("#quizPage").fadeIn();
    loadQuestion();
});

// LOAD QUESTION
function loadQuestion() {
    $("#question").text(questions[index].q);
    $("#options").empty();

    questions[index].o.forEach((opt, i) => {
        $("#options").append(`
            <div class="list-group-item option" data-id="${i}">
                ${opt}
            </div>
        `);
    });
}

// OPTION CLICK
$(document).on("click", ".option", function () {
    attempted++;
    answered++;

    $("#attempted").text(attempted);
    $("#answered").text(answered);
    $("#unanswered").text(questions.length - answered);

    $(".option").removeClass("active");
    $(this).addClass("active");

    $(".option").off("click");
});

// NEXT
$("#nextBtn").click(() => {
    index++;
    if (index < questions.length) {
        loadQuestion();
    } else {
        alert("üéâ Quiz Completed!");
        location.reload();
    }
});

// TIMER
setInterval(() => {
    if (timer > 0) {
        timer--;
        $("#time").text(timer);
    } else {
        alert("‚è∞ Time Up!");
        location.reload();
    }
}, 1000);
</script>

</body>
</html>
